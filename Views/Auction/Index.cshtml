@model IEnumerable<CardHaven.Models.AuctionModel>

@{
    ViewData["Title"] = "Mina auktioner";
}

<h1>Mina auktioner</h1>

<div class="col-md-4 mb-4">
    <div class="card">
        @foreach (var auction in Model)
        {
            <a asp-controller="Auction" asp-action="Details" asp-route-id="@auction.Id"
                class="text-decoration-none text-dark">

                @if (!auction.IsClosed && auction.EndTime > DateTime.Now)
                    {
                         <img src="@Url.Content("~/images/" + auction.ImageName)" class="card-img-top" loading="lazy" alt="@auction.Name">
                    }
                    else
                    {
                        <img src="@Url.Content("~/images/" + auction.ImageName)" class="card-img-top" loading="lazy" alt="@auction.Name" style="opacity: 0.5;">
                    }
                <div class="card-body">
                    <h5 class="card-title">@auction.Name</h5>
                    <p class="card-text"><strong>Slutar:</strong> @auction.EndTime.ToString("g")</p>
                    <p class="card-text"><strong>Nuvarande bud:</strong> @auction.AskingPrice tokens</p>
                    @if (!auction.IsClosed && auction.EndTime > DateTime.Now)
                    {
                        <a asp-action="Edit" asp-route-id="@auction.Id" class="btn btn-primary">Redigera</a>
                        <a asp-action="Delete" asp-route-id="@auction.Id" class="btn btn-danger">Radera</a>
                    }
                    else
                    {
                        <span class="text-danger">Auktionen Ã¤r avslutad</span>
                    }

                </div>
            </a>


        }
    </div>
</div>